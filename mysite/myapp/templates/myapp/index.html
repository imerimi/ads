<html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.min.js" integrity="sha512-L0Shl7nXXzIlBSUUPpxrokqq4ojqgZFQczTYlGjzONGTDAcLremjwaWv5A+EDLnxhQzY5xUZPWLOLqYRkY0Cbw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <nav class="navbar navbar-dark bg-dark">
                        <span class="navbar-brand"> Job Dashboard</span>

                        <div class="navbar text-white">
                            {% if user.is_authenticated %}
                                <a href="{% url 'logout' %}">Logout</a>
                            {% else %}
                                <a href="{% url 'login' %}">Login</a>
                            {% endif %}
                        </div>

                    </nav>

                    {% if messages %}
                        {% for message in messages %}
                        <div class="'alert alert-{{message.tag}}"> 
                            {{ message }}
                        </div>
                        {% endfor %}
                    {% endif %}
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="joblist col-md-6">

                        <h4>Job List</h4>

                        <table id="'table" class="table table-striped table-primary">
                            <tr>
                                <th>Job Title</th>
                                <th>Company</th>
                                <th>Location</th>

                            </tr>
                            <tr>
                                {% for job in jobs %}
                                <tr>
                                    <td>{{job.title}}</td>
                                    <td>{{job.company}}</td>
                                    <td>{{job.location}}</td>
                                </tr>
                                {% endfor %}
                            </tr>                         
                        </table>

                    </div>
                    <div class="joblist col-md-5 offset-1">
                        <canvas id="myChart"></canvas>
                    </div>
                    
                </div>
            </div>

        </div>
       
    </body>

    <script>
        const ctx = document.getElementById('myChart');
      
        new Chart(ctx, {
          type: 'bar',
          data: {
            labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
            datasets: [{
              label: '# of Votes',
              data: [12, 19, 3, 5, 2, 3],
              borderWidth: 1
            }]
          },
          options: {
            scales: {
              y: {
                beginAtZero: true
              }
            }
          }
        });
    </script>
</html>